{
  "version": 2,
  "builds": [
    {
      "src": "server/app.js",
      "use": "@vercel/node"
    },
    {
      "src": "public/**",
      "use": "@vercel/static"
    }
  ],
  "routes": [
    {
      "src": "^/ai/(.*)$",
      "dest": "/server/app.js"
    },
    {
      "src": "^/api/(.*)$",
      "dest": "/server/app.js"
    },
    {
      "src": "^/(health|env-check|version)$",
      "dest": "/server/app.js"
    },
    {
      "src": "^/js/(.*)$",
      "dest": "/public/js/$1"
    },
    {
      "src": "^/css/(.*)$",
      "dest": "/css/$1"
    },
    {
      "src": "^/src/(.*)$",
      "dest": "/src/$1"
    },
    {
      "src": "^/(diagnostics-overlay|test-coordinate-system)\\.js$",
      "dest": "/$1.js"
    },
    {
      "src": "^(?!/(ai|api|health|env-check|version|js|css|src|diagnostics-overlay|test-coordinate-system)/).*$",
      "dest": "/server/app.js"
    }
  ]
}